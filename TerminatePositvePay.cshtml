<div class="d-none d-lg-block" style="height:5vh;"></div>


<div class="container gx-1 gx-lg-0 mt-3 mt-lg-5 my-auto">
    <div class="row mt-2 justify-content-center">
        <div class="col-lg-10">
            <div class="row justify-content-center ">
                <div class="col-12 col-lg-5 text-center">
                    <img class="mb-4 img-fluid " style="width:100px;" src="~/Images/WebsiteImages/cancel.png" />
                    <h3>Terminate Positive Pay</h3>
                    <p>
                        This stops Public Bank from cross checking the cheques issued for
                        payment.
                    </p>
                </div>

                <div id="firstPage" class="col-12 col-lg-8 ">
                    <div class="row mb-2">
                        <label for="tranAmount" class="col-sm-12 col-form-label">Select your account</label>
                        <div class="col-sm-12 mb-2">

                            <select class="form-select" aria-label="Default select example">
                                <option selected class="text-muted">Please select</option>
                                <option value="">3001198511 (Current)</option>
                                <option value="">3001320213 (Current)</option>
                                <option value="">3060022027 (Current)</option>
                                <option value="">3188498819 (Current)</option>
                                <option value="">3980035216 (Current)</option>
                                <option value="">3992850013 (Current)</option>
                                <option value="">3997569913 (Current)</option>

                            </select>

                        </div>
                    </div>

                    <label class="col-sm-12 col-form-label">Termination Effective Date</label>
                    <input id="effectiveDatePicker" class="form-control bg-white" placeholder="01-01-2021"
                           aria-label="effectiveDateInput">

                    <div class="row my-5 last-row">
                        <div class="col-12">
                            <a class="btn btn-dark float-start" href="@Url.Action("Cheque", "Home" )">
                                Back
                            </a>
                            <button id="firstNext" class="btn btn-primary float-end"> Next </button>
                        </div>
                    </div>
                </div>

                <div hidden id="secondPage" class="col-12 col-lg-8 ">
                    <div class="row mb-2">
                        <label class="col-sm-12 col-form-label">Account Number</label>
                        <input id="terminationAccNo" class="form-control" value="3001198511"
                               aria-label="terminationAccNo" disabled>
                    </div>

                    <div class="row mb-2">
                        <label class="col-sm-12 col-form-label mt-3">Termination Effective Date</label>
                        <input id="terminationDatePicker" class="form-control" value="15-10-2021"
                               aria-label="terminationDateInput" disabled>
                    </div>

                    <div class="row myFA1 mb-2">
                        <label class="col-sm-12 col-form-label">Approve this update with</label>
                        <div class="col-sm-12 mb-2">
                            <select class="form-select" aria-label="Default select example" id="auth">
                                <option value="pac">PAC</option>
                                <option value="token">Hard Token</option>
                                <option value="secure">Secured SignIn</option>
                                <option value="noti">Push Notification</option>
                            </select>


                        </div>
                        <div class="col-sm-12">

                            <div class="row myFA2" id="PAC" mt-2>

                                <div class="zz col-3">
                                    <label for="PAC" class="col-sm-3 col-form-label">
                                        <img src="~/Images/WebsiteImages/otp.png" alt="" width="100" height="100">
                                    </label>
                                </div>

                                <div class="digitPac col-6">

                                    <input type="text" class="form-control" id="PAC">

                                    <p class="text-muted">
                                        A 6 digit PAC will be sent to your registered mobile phone
                                        number
                                        *****6168. Please click "Request PAC" if you wish to proceed
                                    </p>

                                </div>

                                <div class="col-3">
                                    <a class="btn btn-info pac text-white float-lg-end" id="reqPacBtn">
                                        Request
                                        PAC
                                    </a>
                                </div>

                            </div>


                            <div class="row myFA3 d-none" id="token" mt-2>

                                <div class="zz col-3">
                                    <label for="hToken" class="col-sm-3 col-form-label">
                                        <img src="~/Images/WebsiteImages/securesigntoken.png" alt="" width="90"
                                             height="120">
                                    </label>
                                </div>

                                <div class="col-9">

                                    <p class="text-muted">
                                        Switch on your SecureSign token and follow the instrution
                                        below to
                                        generate on your SecureSign Code.
                                    </p>

                                    <ol>
                                        <li>Press "sign" button. You will see a '1' display on the screen.</li>
                                        <li>Enter xxxxx and press 'OK'.</li>
                                        <li>You will see a '2" dispaly on screen.</li>
                                        <li>Enter xxxx and press 'OK.'</li>
                                        <li>The SecureSign will be displayed on screen.</li>
                                    </ol>

                                    <input type="text" class="form-control" id="hToken"
                                           placeholder="Enter your SecureSign Code">

                                </div>

                            </div>

                            <div class="row myFA4 d-none" id="noti" mt-2>

                                <div class="zz col-3">
                                    <label for="notification" class="col-sm-3 col-form-label">
                                        <img src="~/Images/WebsiteImages/success.png" alt="" width="90"
                                             height="90">
                                    </label>
                                </div>

                                <div class="col-6">

                                    <p>
                                        A push notification will be sent to your mobile phone. Please verify the
                                        details
                                        at
                                        your PB SecureSign screen before approving transaction.
                                    </p>

                                </div>

                                <div class="col-3">
                                    <a class="btn btn-info pac text-white float-lg-end" data-bs-toggle="modal"
                                       data-bs-target="#staticBackdrop">Push Notification</a>

                                    <!-- Modal -->

                                    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static"
                                         data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                         aria-hidden="true">

                                        <div class="modal-dialog modal-dialog-centered">

                                            <div class="modal-content">

                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="staticBackdropLabel">
                                                        PB SecureSign
                                                    </h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                            aria-label="Close"></button>
                                                </div>

                                                <div class="modal-body">

                                                    <div class="container-fluid">

                                                        <div class="row">

                                                            <div class="col-sm-12 d-flex justify-content-center">
                                                                <img src="/puvan/icon/twoFA/animation_500_kugn1p08.gif"
                                                                     alt="" width="300" height="300">
                                                            </div>

                                                            <div class="col-sm-12">
                                                                <p>
                                                                    Please check your mobile device (Iphone12) for a
                                                                    push
                                                                    notification to approve the transacion
                                                                </p>
                                                            </div>

                                                            <div class="col-sm-12">

                                                                <div class="progress">

                                                                    <div class="progress-bar bg-danger active"
                                                                         role="progressbar" aria-valuenow="0"
                                                                         aria-valuemin="0" aria-valuemax="100"
                                                                         style="width:0%">
                                                                    </div>

                                                                </div>

                                                            </div>

                                                        </div>

                                                    </div>

                                                </div>

                                            </div>

                                        </div>

                                    </div>

                                </div>

                            </div>

                            <div class="row myFA5 d-none" id="secure" mt-2>

                                <div class="zz col-3">
                                    <label for="secure" class="col-sm-3 col-form-label">
                                        <img src="~/Images/WebsiteImages/kp2.png" alt="" width="90" height="90">
                                    </label>
                                </div>

                                <div class="col-9">

                                    <p class="text-muted">
                                        Open your PB engage mobile app and follow the instruction
                                        below to
                                        generate your SecurePac
                                    </p>

                                    <ol>
                                        <li>Launch your PB engage mobile app.</li>
                                        <li>From the side menu, select "PB SecureSign".</li>
                                        <li>Verify the transaction details before you click "proceed".</li>
                                        <li>Enter your SecurePIN or authentucate with your fingerpint/Face ID</li>
                                        <li>The 6 digits SecurePAC will be displayed on the screen</li>
                                    </ol>

                                    <input type="text" class="form-control" id="secure"
                                           placeholder="Enter SecurePAC">

                                </div>

                            </div>

                        </div>

                    </div>

                    <div class="row my-5 last-row">
                        <div class="col-12">
                            <a class="btn btn-dark float-start">
                                Back
                            </a>
                            <button id="secondNext" class="btn btn-primary float-end"> Submit </button>
                        </div>
                    </div>

                </div>

                <div hidden id="thirdPage" class="col-12 col-lg-8 mt-3 px-5">
                    <div class="p-5 shadow bg-white rounded-8">

                        <div class="row detailzRow d-flex mb-4">

                            <div class="row logoRow">

                                <div class="col-lg-2 col-2 checkIconDIV">

                                    <table style="height: 100%; width: 100%;">

                                        <tbody>

                                            <tr>
                                                <td>

                                                    <div class="successIcon">
                                                        <svg class="checkmark" xmlns="http://www.w3.org/2000/svg"
                                                             viewBox="0 0 52 52">
                                                            <circle class="checkmark__circle" cx="26" cy="26" r="25"
                                                                    fill="none" />
                                                            <path class="checkmark__check" fill="none"
                                                                  d="M14.1 27.2l7.1 7.2 16.7-16.8" />
                                                        </svg>
                                                    </div>

                                                </td>

                                            </tr>

                                        </tbody>

                                    </table>

                                </div>

                                <div class="col-lg-9 col-md-12 col-sm-12 col-xs-10 checkTextDIV">

                                    <table style="height: 100%; width: 100%;">

                                        <tbody>

                                            <tr>

                                                <td style="vertical-align: middle;">
                                                    <h5 class="lbl1 mt-3">Terminate Successfully</h5>
                                                    <p class="text-muted">4 May 2018, 12:59:12pm</p>
                                                </td>

                                            </tr>

                                        </tbody>

                                    </table>

                                </div>

                            </div>


                        </div>

                        <div class="row detailsRow">

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 leftReference">
                                <label>Reference Number</label>
                            </div>

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 rightReference">
                                <label>RR232382989FH</label>
                            </div>

                        </div>

                        <div class="row detailsRow">

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 leftReference">
                                <label>Account</label>
                            </div>

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 rightReference">
                                <label>xxxxxxxxx-xxxx</label>
                            </div>

                        </div>

                        <div class="row detailsRow">

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 leftReference">
                                <label>Effective Date</label>
                            </div>

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 rightReference">
                                <label>10 Oct 2021</label>
                            </div>

                        </div>

                        <div class="row detailsRow">

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 leftReference">
                                <label>Date/Time</label>
                            </div>

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 rightReference">
                                <label>8 Oct 2021 19:43:24</label>
                            </div>

                        </div>


                    </div>

                    <div class="row my-5 last-row">
                        <div class="col-12">
                            <a class="btn btn-dark float-start"> Print </a>
                            <a id="thirdNext" class="btn btn-primary  float-end" href="" @Url.Action("Cheque", "Home") "> Done </a>
                        </div>
                    </div>

                </div>

                <div class="alert alert-info col-12 col-lg-8 rounded-8 shadow-sm" style="margin-bottom:100px" role="alert">
                    <b>Note</b><br>
                    <ul>
                        <li>
                            This features is only available within our Operating Hours 12:05 a.m. - 12 midnight.
                        </li>
                    </ul>
                </div>

            </div>

        </div>

    </div>

</div>
@Scripts.Render("~/bundles/jquery")

<script>
    $(document).ready(function () {
        $("#effectiveDatePicker").flatpickr({
            dateFormat: 'd-m-Y'

        });

        $("#firstNext").click(function () {
            $("#firstPage").prop('hidden', true);
            $("#secondPage").prop('hidden', false);
        });

        $('#reqPacBtn').on('click', function () {
            Swal.fire({
                title: 'OTP is Sent!',
                text: 'OTP sent to your phone number 012 - * * * * 123',
                icon: 'success',
                confirmButtonColor: '#198754',
                confirmButtonText: 'OK',
            });
        });

        $("#secondNext").click(function () {
            Swal.fire({
                title: 'Confirm Terminate the Positive Pay?',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#d64354',
                cancelButtonColor: '#212529',
                confirmButtonText: 'Confirm'
            }).then((result) => {
                if (result.isConfirmed) {
                    // Swal.fire({
                    //     title: 'Your Termination of Positive Pay submitted unsuccessfully!',
                    //     icon: 'error',
                    // })
                    Swal.fire({
                        title: 'Your Termination of Positive Pay has been submitted!',
                        icon: 'success',
                    }).then((result) => {
                        if (result.isConfirmed) {
                            $("#secondPage").prop('hidden', true);
                            $("#thirdPage").prop('hidden', false);
                        }
                    });

                }
            });;
        });

        $("#auth").change(function () {
            console.log("test");
            var cases = $("#auth option:selected").val();
            if (cases == "pac") {
                $("#PAC").removeClass("d-none");
                $("#secure").addClass("d-none");
                $("#noti").addClass("d-none");
                $("#token").addClass("d-none");
            }
            if (cases == "token") {
                $("#token").removeClass("d-none");
                $("#PAC").addClass("d-none");
                $("#signin").addClass("d-none");
                $("#noti").addClass("d-none");
            }
            if (cases == "secure") {
                $("#secure").removeClass("d-none");
                $("#PAC").addClass("d-none");
                $("#token").addClass("d-none");
                $("#noti").addClass("d-none");
            }
            if (cases == "noti") {
                $("#noti").removeClass("d-none");
                $("#PAC").addClass("d-none");
                $("#token").addClass("d-none");
                $("#secure").addClass("d-none");
            }
        }
        );

        var progressBar = $('.progress-bar');
        var progressNumber = 0;

        setInterval(function () {
            progressNumber++;
            progressBar.css('width', progressNumber + '%');
            progressBar.attr('aria-valuenow', progressNumber);
        }, 500);
    });

</script>
