
@{
    ViewBag.Title = "MailingAddress";
}
<div class="d-none d-lg-block" style="height:5vh;"></div>


<div class="container gx-1 gx-lg-0 mt-3 mt-lg-5 my-auto">
    <div class="row mt-2 justify-content-center">
        <div class="col-lg-10">
            <div class="row justify-content-center ">
                <div class="col-12 col-lg-5 text-center">
                    <img class="mb-4 img-fluid " style="width:100px;" src="~/Images/WebsiteImages/location.png" />
                    <h3>Change Mailing Address</h3>
                    <p class="text-muted small">
                        Update your mailing address for us to send any important mails to you.
                    </p>
                </div>
                <div class="col-12 col-lg-8 " id="firstPage">
                    <div class="row mb-2 d-flex justify-content-center">

                        <div class="col-sm-12 d-flex flex-wrap flex-row justify-content-between">
                            <label class="col-sm-6 col-form-label">For account</label>
                        </div>

                        <div class="col-sm-8">

                            <select id="choices-multiple-remove-button" multiple>
                                <option class="choice-option">40001518</option>
                                <option class="choice-option">95774453</option>
                                <option class="choice-option">12354898</option>
                                <option class="choice-option">12354891</option>
                                <option class="choice-option">14680642</option>
                                <option class="choice-option">54670423</option>
                                <option class="choice-option">40054898</option>
                                <option class="choice-option">95771468</option>
                            </select>

                        </div>

                        <div class="form-check form-switch col-sm-4 text-end p-0 py-2 pe-2">
                            <input class="form-check-input ms-5 p-0" type="checkbox" role="switch"
                                   id="selectAllSwitch">
                            <label class="form-check-label ps-3" for="selectAllSwitch">Select all accounts</label>
                        </div>

                    </div>
                    <div class="row mb-2">
                        <label class="col-sm-12 col-form-label">Address</label>
                        <div class="col-sm-12 my-1">
                            <input type="text" id="mailing" name="mailing" class="form-control mb-0" placeholder="Enter House No./ Unit No./ Apt/ Suite/ Building">
                            <input type="text" id="mailing" name="mailing" class="form-control mb-0" placeholder="Enter Street Address / P.O Box">
                            <input type="text" id="mailing" name="mailing" class="form-control" placeholder="Enter City And State">
                        </div>
                    </div>
                    <div class="row mb-2">
                        <label for="tranAmount" class="col-sm-12 col-form-label">Postcode</label>
                        <div class="col-sm-12">
                            <input type="Number" class="form-control mb-2" placeholder="Postcode">
                        </div>
                    </div>
                    <div class="row mb-2">
                        <label for="auth" class="col-sm-3 col-form-label">Approve this transacion with</label>
                        <div class="col-sm-9">
                            <select class="form-select" aria-label="Default select example" id="auth">
                                <option value="noti">PB SecureSign (Push Notification)</option>
                                <option value="secure">PB SecureSign (SecurePAC)</option>
                                <option value="token">SecureSign Token</option>
                                <option value="pac" selected>SMS PAC</option>
                            </select>
                        </div>
                    </div>
                    <div class="row mb-2" id="PAC">
                        <label for="PAC" class="col-sm-3 col-form-label"> <img src="~/Images/WebsiteImages/otp.png" alt="" width="100" height="100"></label>
                        <div class="col-sm-6">
                            <input type="text" class="form-control" id="PAC">
                            <p class="text-muted">A 6 digit PAC will be sent to your registered mobile phone number *****6168. Please click "Request PAC" if you wish to proceed</p>
                        </div>
                        <div class="col-sm-3 text-end text-lg-center mt-0 mt-lg-0">
                            <a class="btn btn-info pac text-white float-lg-end">Request PAC</a>
                        </div>
                    </div>
                    <div class="row mb-2 d-none" id="token">
                        <label for="hToken" class="col-sm-3 col-form-label"><img src="~/Images/WebsiteImages/securesigntoken.png" alt="" width="90" height="120"></label>
                        <div class="col-sm-9">
                            <p class="text-muted">Switch on your SecureSign token and follow the instrution below to generate on your SecureSign Code.</p>
                            <ol>
                                <li>Press "sign" button. You will see a '1' display on the screen.</li>
                                <li>Enter xxxxx and press 'OK'.</li>
                                <li>You will see a '2" dispaly on screen.</li>
                                <li>Enter xxxx and press 'OK.'</li>
                                <li>The SecureSign will be displayed on screen.</li>
                            </ol>
                            <input type="text" class="form-control" id="hToken" placeholder="Enter your SecureSign Code">
                        </div>
                    </div>
                    <div class="row mb-2 d-none" id="noti">
                        <label for="notification" class="col-sm-3 col-form-label"><img src="~/Images/WebsiteImages/success.png" alt="" width="90" height="90"></label>
                        <div class="col-sm-6">
                            <p>A push notification will be sent to your mobile phone. Please verify the details at your PB SecureSign screen before approving transaction.</p>
                            <!-- <a class="btn btn-info pac text-white float-lg-end">Secure SignIn</a> -->
                        </div>
                        <div class="col-sm-3">
                            <a class="btn btn-info text-white float-lg-end" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Push Notification</a>
                            <!-- Modal -->
                            <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="staticBackdropLabel">PB SecureSign</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="container-fluid">
                                                <div class="row">
                                                    <div class="col-sm-12 d-flex justify-content-center">
                                                        <img src="~/Images/WebsiteImages/animation_500_kugn1p08.gif" alt="" width="300" height="300">
                                                    </div>
                                                    <div class="col-sm-12">
                                                        <p>Please check your mobile device (Iphone12) for a push notification to approve the transacion</p>
                                                    </div>
                                                    <div class="col-sm-12">
                                                        <div class="progress">
                                                            <div class="progress-bar bg-danger active" role="progressbar" aria-valuenow="0"
                                                                 aria-valuemin="0" aria-valuemax="100" style="width:0%">

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-2 d-none" id="secure">
                        <label for="secure" class="col-sm-3 col-form-label"><img src="~/Images/WebsiteImages/kp2.png" alt="" width="90" height="90"></label>
                        <div class="col-sm-9">
                            <p class="text-muted">Open your PB engage mobile app and follow the instruction below to generate your SecurePac</p>
                            <ol>
                                <li>Launch your PB engage mobile app.</li>
                                <li>From the side menu, select "PB SecureSign".</li>
                                <li>Verify the transaction details before you click "proceed".</li>
                                <li>Enter your SecurePIN or authentucate with your fingerpint/Face ID</li>
                                <li>The 6 digits SecurePAC will be displayed on the screen</li>
                            </ol>
                            <input type="text" class="form-control" id="secure" placeholder="Enter SecurePAC">
                        </div>
                    </div>

                    <div class="row my-5 last-row">
                        <div class="col-12">
                            <a class="btn btn-dark float-start" href="@Url.Action("CardSettings", "Home")"> Back </a>
                            <a id="secondNext" class="btn btn-primary  float-end"> Next </a>
                        </div>
                    </div>
                </div>

                

                <div hidden id="thirdPage" class="col-12 col-lg-8 mt-3 px-5">
                    <div class="p-5 shadow bg-white rounded-8">

                        <div class="row detailzRow d-flex mb-4">

                            <div class="row logoRow">

                                <div class="col-lg-2 col-2 checkIconDIV">

                                    <table style="height: 100%; width: 100%;">

                                        <tbody>

                                            <tr>
                                                <td>

                                                    <div class="successIcon">
                                                        <svg class="checkmark" xmlns="http://www.w3.org/2000/svg"
                                                             viewBox="0 0 52 52">
                                                            <circle class="checkmark__circle" cx="26" cy="26" r="25"
                                                                    fill="none" />
                                                            <path class="checkmark__check" fill="none"
                                                                  d="M14.1 27.2l7.1 7.2 16.7-16.8" />
                                                        </svg>
                                                    </div>

                                                </td>

                                            </tr>

                                        </tbody>

                                    </table>

                                </div>

                                <div class="col-lg-9 col-md-12 col-sm-12 col-xs-10 checkTextDIV">

                                    <table style="height: 100%; width: 100%;">

                                        <tbody>

                                            <tr>

                                                <td style="vertical-align: middle;">
                                                    <h5 class="lbl1 mt-3">Mailing Address Changed Successfully.</h5>
                                                    <p class="text-muted">4 May 2018, 12:59:12pm</p>
                                                </td>

                                            </tr>

                                        </tbody>

                                    </table>

                                </div>

                            </div>


                        </div>

                        <div class="row detailsRow">

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 leftReference">
                                <label>Reference Number</label>
                            </div>

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 rightReference">
                                <label>RR232382989FH</label>
                            </div>

                        </div>

                        <div class="row detailsRow">

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 leftReference">
                                <label>Your New Mailing Address</label>
                            </div>

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 rightReference">
                                <label>12A test</label>
                            </div>

                        </div>

                        <div class="row detailsRow">

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 leftReference">
                                <label>Postcode</label>
                            </div>

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 rightReference">
                                <label>12345</label>
                            </div>

                        </div>

                        <div class="row detailsRow">

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 leftReference">
                                <label>For Account No(s) / Branch Name</label>
                            </div>

                            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 rightReference">
                                <label>5472344 / Gurun</label>
                            </div>

                        </div>
                    </div>

                    <div class="row my-5 last-row">
                        <div class="col-12">
                            <a class="btn btn-dark float-start"> Print </a>
                            <a id="secondNext" class="btn btn-primary  float-end" href="@Url.Action("CardSettings", "Home")"> Done </a>
                        </div>
                    </div>

                </div>

                <div class="alert alert-info col-12 col-lg-8 rounded-8 shadow-sm" style="margin-bottom:100px" role="alert">
                    <b>Note</b><br>
                    <ul>
                        <li>
                            Any change mailing address requests through PbeBank.com will be construed as
                            written requests by customers to execute the change of address of the affected
                            accounts.
                        </li>
                        <li>
                            Change mailing address requests will not be executed immediately. These requests
                            will be executed by your account holding branch accordingly.
                        </li>
                        <li>
                            For Credit/ Debit card contact details, please update information in Change
                            Credit/ Debit Card contact information tab.
                        </li>
                    </ul>
                </div>

            </div>
        </div>
    </div>

</div>
@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/js")
<script>
    $(document).ready(function () {
        $('.mobileNav').each(function () {
            $(this).removeClass('active');
        })
        $('.nav-link').each(function () {
            $(this).removeClass('active');
        })
        $('.profile').each(function () {
            $(this).addClass('active');
        });
        $('.profileMenu').addClass('active');


        var multipleCancelButton = new Choices('#choices-multiple-remove-button', {
            removeItemButton: true,
            searchEnabled: true,
            searchChoices: true,
            searchResultLimit: 5,
            placeholder: true,
            placeholderValue: "Search or select account(s)",
            // searchPlaceholderValue: null,
            // renderChoiceLimit: 5,
        });

    });
    $("#selectAllSwitch").change(function () {
        if ($(this).is(":checked")) {
            $(".choices").addClass('is-disabled');
            $('.choices__list').attr('hidden', true);
            $('.choices__input').attr('disabled', true);
        } else {
            $(".choices").removeClass('is-disabled');
            $('.choices__list').attr('hidden', false);
            $('.choices__input').attr('disabled', false);
        }
    });
    $("#auth").change(function () {
        console.log("test");
        var cases = $("#auth option:selected").val();
        if (cases == "pac")
            $("#PAC").removeClass("d-none");
        $("#secure").addClass("d-none");
        $("#noti").addClass("d-none");
        $("#token").addClass("d-none");
        if (cases == "token") {
            $("#token").removeClass("d-none");
            $("#PAC").addClass("d-none");
            $("#signin").addClass("d-none");
            $("#noti").addClass("d-none");
        }
        if (cases == "secure") {
            $("#secure").removeClass("d-none");
            $("#PAC").addClass("d-none");
            $("#token").addClass("d-none");
            $("#noti").addClass("d-none");
        }
        if (cases == "noti") {
            $("#noti").removeClass("d-none");
            $("#PAC").addClass("d-none");
            $("#token").addClass("d-none");
            $("#secure").addClass("d-none");
        }
    });


    $('#secondNext').on('click', function () {
        Swal.fire({
            title: 'Do you want to submit the changes?',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Submit',
            allowOutsideClick: false,
            customClass: {
                title: 'alertFontStyle'
            }
        }).then((result) => {
            if (result.isConfirmed) {
                Swal.fire({
                    title: 'Your mailing address has been changed!',
                    icon: 'success',
                    customClass: {
                        title: 'alertFontStyle'
                    }
                }).then(function () {
                    $('#thirdPage').attr('hidden', false);
                    $('#firstPage').attr('hidden', true);
                });
            }
        })



    });
</script>


